API Documentation
=================

1. **Тестовий ендпоїнт**
   - **GET** /api/test
   - Опис: Перевірка доступності API.
   - Відповідь:
     - Статус 200: {"message": "API працює!"}

2. **Продукти**
   - **GET** /api/products
     - Опис: Отримання списку всіх продуктів.
     - Відповідь:
       - Статус 200: Список продуктів у форматі JSON.
   - **POST** /api/products
     - Опис: Додавання нового продукту.
     - Вхід:
       - JSON: {"name": "Назва продукту", "price": ціна}
     - Відповідь:
       - Статус 201: {"success": true, "message": "Продукт додано", "data": дані продукту}
       - Статус 400: {"error": "Name and price are required"}
   - **DELETE** /api/products/<product_id>
     - Опис: Видалення продукту за його ID.
     - Відповідь:
       - Статус 200: {"message": "Продукт видалено"}
   
3. **Замовлення**
   - **GET** /api/orders
     - Опис: Отримання списку всіх замовлень.
     - Відповідь:
       - Статус 200: Список замовлень у форматі JSON.
   - **GET** /api/orders/<order_id>
     - Опис: Отримання деталей замовлення за його ID.
     - Відповідь:
       - Статус 200: {"order": дані замовлення, "items": список товарів у замовленні}
       - Статус 404: {"error": "Order not found"}
   - **POST** /api/orders
     - Опис: Створення нового замовлення.
     - Вхід:
       - JSON: {"email": "user@example.com", "address": "Адреса", "cart": [{"id": product_id, "quantity": кількість, "price": ціна}]}
     - Відповідь:
       - Статус 201: {"message": "Order created successfully", "order_id": order_id}
       - Статус 400: {"error": "Missing required fields"}

4. **Обмеження частоти запитів**
   - **GET** /api/rate-limit-status
     - Опис: Отримання статусу обмеження запитів для поточного IP.
     - Відповідь:
       - Статус 200: {"requests_remaining": кількість залишкових запитів, "max_requests_per_minute": максимальна кількість запитів, "time_window": "1 minute"}

5. **Адміністративні ендпоїнти**
   - **GET** /api/stats
     - Опис: Статистика запитів, завантаженості або загальних даних по замовленням і продуктам.
     - Відповідь:
       - Статус 200: Статистика у форматі JSON.
   - **DELETE** /api/rate-limit-history
     - Опис: Очищення історії запитів (адмін-операція).
     - Відповідь:
       - Статус 200: {"message": "Історія запитів очищена"}
   - **POST** /api/backup
     - Опис: Створення резервної копії бази даних.
     - Відповідь:
       - Статус 200: {"message": "Резервна копія створена"}

6. **Користувачі**
   - **POST** /api/users/register
     - Опис: Реєстрація користувача.
     - Вхід:
       - JSON: {"email": "user@example.com", "password": "пароль"}
     - Відповідь:
       - Статус 201: {"message": "Користувач зареєстрований"}
       - Статус 400: {"error": "Невірні дані"}
   - **POST** /api/users/login
     - Опис: Аутентифікація користувача для отримання токена.
     - Вхід:
       - JSON: {"email": "user@example.com", "password": "пароль"}
     - Відповідь:
       - Статус 200: {"token": "токен доступу"}
       - Статус 401: {"error": "Невірний логін або пароль"}
   - **POST** /api/users/reset-password
     - Опис: Скидання пароля для облікового запису.
     - Вхід:
       - JSON: {"email": "user@example.com"}
     - Відповідь:
       - Статус 200: {"message": "Інструкції з відновлення пароля надіслані на вашу електронну пошту"}
       - Статус 400: {"error": "Невірний email"}
